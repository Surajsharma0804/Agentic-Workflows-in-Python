id: ai-content-analysis
name: AI-Powered Content Analysis
description: Analyze content using OpenAI GPT

tasks:
  - id: fetch_content
    type: http_task
    params:
      url: https://api.example.com/content
      method: GET
  
  - id: analyze_sentiment
    type: openai
    params:
      model: gpt-4
      prompt: "Analyze the sentiment of this content: ${content}"
      max_tokens: 500
  
  - id: generate_summary
    type: openai
    params:
      model: gpt-4
      prompt: "Summarize this content in 3 sentences: ${content}"
      max_tokens: 200
  
  - id: send_report
    type: email
    params:
      smtp_host: ${SMTP_HOST}
      smtp_username: ${SMTP_USERNAME}
      smtp_password: ${SMTP_PASSWORD}
      from_email: reports@example.com
      to_email: team@example.com
      subject: "Content Analysis Report"
      body: "${summary}"
